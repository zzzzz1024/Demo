---
mode: agent
---

当需要编写脚本时, 请参考本文件的规则和最佳实践。

如果 `src/xxx` 文件夹中仅有 `index.ts` 文件, 则它是一个脚本项目.

脚本以无沙盒 iframe 的形式在酒馆后台运行, 没有自己的界面, 只有代码部分可供编写.

## jQuery 操作

脚本中的 jquery 将直接作用于整个酒馆页面而非仅作用于脚本所在的 iframe. 例如 `$('body')` 将选择酒馆网页的 `<body>`
标签, 而不是脚本所在的 iframe 的 `<body>` 标签.

## 按钮交互

脚本可以在酒馆助手脚本库界面中设置按钮, 用户点击按钮时将会触发对应的事件.

我们可以在代码中这样注册按钮事件:

```typescript
eventOn(getButtonEvent('按钮名'), () => {
  console.log('按钮被点击了');
});
```

## 开发注意事项

- 脚本运行在后台，没有可视化界面
- 可以通过 jQuery 直接操作酒馆的 DOM 元素
- 需要通过事件监听机制与用户进行交互
- 使用酒馆助手提供的接口与酒馆进行数据交互
